{"id":"md7u","dependencies":[{"name":"D:\\Documents\\Polytechnique Montréal\\Trimestre été 2022\\Data Visualization\\Projet\\INF8808\\package.json","includedInParent":true,"mtime":1656537009495}],"generated":{"js":"\"use strict\";function e(e){return e=e.filter(function(e){return-1!==e.Nom_Region.indexOf(\"Ensemble\")})}function i(e){var i=[];return e.forEach(function(e){var t=e.Genre_de_competences.trim();i.includes(t)||i.push(t)}),i}function t(e,i){var t=[],u=[\"Haut. Qualifié\",\"Qualifié\",\"Moins Qualifié\"],c={\"Haut. Qualifié\":\"Haut\",\"Qualifié\":\"(Qual\",\"Moins Qualifié\":\"Moins\"};return i.forEach(function(i){var o=e.filter(function(e){return e.Genre_de_competences.trim()===i}),f=n(o),a=f[\"Haut. Qualifié\"]+f.Qualifié+f[\"Moins Qualifié\"];u.forEach(function(e){var n={\"Genre de compétences\":i},u=o.filter(function(i){return-1!==i.Niveau_de_competences.indexOf(c[e])});n.déficit=r(u),n.pourcentage=f[e]/a,n.emploi_estimé=f[e],n.niveau_de_competences=e,t.push(n)})}),t}function n(e){var i={\"Haut. Qualifié\":0,\"Qualifié\":0,\"Moins Qualifié\":0};return e.forEach(function(e){-1!==e.Niveau_de_competences.indexOf(\"Haut\")&&(i[\"Haut. Qualifié\"]+=parseInt(e.emploi_estime)),-1!==e.Niveau_de_competences.indexOf(\"(Qual\")&&(i.Qualifié+=parseInt(e.emploi_estime)),-1!==e.Niveau_de_competences.indexOf(\"Moins\")&&(i[\"Moins Qualifié\"]+=parseInt(e.emploi_estime))}),i}function r(e){if(0===e.length)return\"Equilibre\";var i=0,t=0;return e.forEach(function(e){-1!==e.Perspectives.indexOf(\"urplus\")&&(i+=1),-1!==e.Perspectives.indexOf(\"ger D\")&&(i-=1),\"Deficit\"===e.Perspectives&&(i-=2),\"Deficit important\"===e.Perspectives&&(i-=3),-1!==e.Perspectives.indexOf(\"Non\")&&(t+=1)}),u(i/=e.length-t)}function u(e){return e<-1.25?\"Déficit\":e<-.5?\"Léger Déficit\":e<.4?\"Equilibre\":\"Léger Surplus\"}function c(e,i){var t={};return e.forEach(function(e){i.forEach(function(i){console.log(i),i[\"Genre de compétences\"]===e&&(t[e]=i.pourcentage)})}),t}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.filterRegion=e,exports.getSkills=i,exports.structureData=t,exports.calculatePercentage=n,exports.calculateDeficit=r,exports.deficitScore=u,exports.getCorrespondingPercentage=c;"},"sourceMaps":{"js":{"mappings":[{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":0}},{"source":"scripts/viz3/preprocess3.js","original":{"line":7,"column":7},"generated":{"line":1,"column":13}},{"source":"scripts/viz3/preprocess3.js","name":"filterRegion","original":{"line":7,"column":16},"generated":{"line":1,"column":22}},{"source":"scripts/viz3/preprocess3.js","name":"data","original":{"line":7,"column":30},"generated":{"line":1,"column":24}},{"source":"scripts/viz3/preprocess3.js","name":"data","original":{"line":9,"column":9},"generated":{"line":1,"column":27}},{"source":"scripts/viz3/preprocess3.js","name":"data","original":{"line":8,"column":2},"generated":{"line":1,"column":34}},{"source":"scripts/viz3/preprocess3.js","name":"data","original":{"line":8,"column":9},"generated":{"line":1,"column":36}},{"source":"scripts/viz3/preprocess3.js","name":"filter","original":{"line":8,"column":14},"generated":{"line":1,"column":38}},{"source":"scripts/viz3/preprocess3.js","original":{"line":8,"column":21},"generated":{"line":1,"column":45}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":8,"column":21},"generated":{"line":1,"column":54}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":8,"column":32},"generated":{"line":1,"column":57}},{"source":"scripts/viz3/preprocess3.js","original":{"line":8,"column":76},"generated":{"line":1,"column":64}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":8,"column":32},"generated":{"line":1,"column":68}},{"source":"scripts/viz3/preprocess3.js","name":"Nom_Region","original":{"line":8,"column":40},"generated":{"line":1,"column":70}},{"source":"scripts/viz3/preprocess3.js","name":"indexOf","original":{"line":8,"column":51},"generated":{"line":1,"column":81}},{"source":"scripts/viz3/preprocess3.js","original":{"line":8,"column":59},"generated":{"line":1,"column":89}},{"source":"scripts/viz3/preprocess3.js","original":{"line":18,"column":7},"generated":{"line":1,"column":103}},{"source":"scripts/viz3/preprocess3.js","name":"getSkills","original":{"line":18,"column":16},"generated":{"line":1,"column":112}},{"source":"scripts/viz3/preprocess3.js","name":"data","original":{"line":18,"column":27},"generated":{"line":1,"column":114}},{"source":"scripts/viz3/preprocess3.js","name":"skills","original":{"line":19,"column":8},"generated":{"line":1,"column":117}},{"source":"scripts/viz3/preprocess3.js","name":"skills","original":{"line":19,"column":8},"generated":{"line":1,"column":121}},{"source":"scripts/viz3/preprocess3.js","original":{"line":19,"column":17},"generated":{"line":1,"column":123}},{"source":"scripts/viz3/preprocess3.js","name":"skills","original":{"line":27,"column":9},"generated":{"line":1,"column":126}},{"source":"scripts/viz3/preprocess3.js","name":"data","original":{"line":20,"column":2},"generated":{"line":1,"column":133}},{"source":"scripts/viz3/preprocess3.js","name":"forEach","original":{"line":20,"column":7},"generated":{"line":1,"column":135}},{"source":"scripts/viz3/preprocess3.js","original":{"line":20,"column":15},"generated":{"line":1,"column":143}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":20,"column":16},"generated":{"line":1,"column":152}},{"source":"scripts/viz3/preprocess3.js","name":"nbName","original":{"line":21,"column":10},"generated":{"line":1,"column":155}},{"source":"scripts/viz3/preprocess3.js","name":"nbName","original":{"line":21,"column":10},"generated":{"line":1,"column":159}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":21,"column":19},"generated":{"line":1,"column":161}},{"source":"scripts/viz3/preprocess3.js","name":"Genre_de_competences","original":{"line":21,"column":27},"generated":{"line":1,"column":163}},{"source":"scripts/viz3/preprocess3.js","name":"trim","original":{"line":21,"column":48},"generated":{"line":1,"column":184}},{"source":"scripts/viz3/preprocess3.js","name":"skills","original":{"line":22,"column":20},"generated":{"line":1,"column":191}},{"source":"scripts/viz3/preprocess3.js","name":"includes","original":{"line":22,"column":27},"generated":{"line":1,"column":193}},{"source":"scripts/viz3/preprocess3.js","name":"nbName","original":{"line":22,"column":36},"generated":{"line":1,"column":202}},{"source":"scripts/viz3/preprocess3.js","name":"skills","original":{"line":24,"column":6},"generated":{"line":1,"column":206}},{"source":"scripts/viz3/preprocess3.js","name":"push","original":{"line":24,"column":13},"generated":{"line":1,"column":208}},{"source":"scripts/viz3/preprocess3.js","name":"nbName","original":{"line":24,"column":18},"generated":{"line":1,"column":213}},{"source":"scripts/viz3/preprocess3.js","name":"skills","original":{"line":27,"column":9},"generated":{"line":1,"column":218}},{"source":"scripts/viz3/preprocess3.js","original":{"line":37,"column":7},"generated":{"line":1,"column":220}},{"source":"scripts/viz3/preprocess3.js","name":"structureData","original":{"line":37,"column":16},"generated":{"line":1,"column":229}},{"source":"scripts/viz3/preprocess3.js","name":"data","original":{"line":37,"column":31},"generated":{"line":1,"column":231}},{"source":"scripts/viz3/preprocess3.js","name":"skills","original":{"line":37,"column":37},"generated":{"line":1,"column":233}},{"source":"scripts/viz3/preprocess3.js","name":"newData","original":{"line":38,"column":6},"generated":{"line":1,"column":236}},{"source":"scripts/viz3/preprocess3.js","name":"newData","original":{"line":38,"column":6},"generated":{"line":1,"column":240}},{"source":"scripts/viz3/preprocess3.js","original":{"line":38,"column":16},"generated":{"line":1,"column":242}},{"source":"scripts/viz3/preprocess3.js","name":"skillLevels","original":{"line":39,"column":6},"generated":{"line":1,"column":245}},{"source":"scripts/viz3/preprocess3.js","original":{"line":39,"column":20},"generated":{"line":1,"column":247}},{"source":"scripts/viz3/preprocess3.js","original":{"line":39,"column":21},"generated":{"line":1,"column":248}},{"source":"scripts/viz3/preprocess3.js","original":{"line":39,"column":39},"generated":{"line":1,"column":265}},{"source":"scripts/viz3/preprocess3.js","original":{"line":39,"column":51},"generated":{"line":1,"column":276}},{"source":"scripts/viz3/preprocess3.js","name":"skillDetection","original":{"line":40,"column":6},"generated":{"line":1,"column":294}},{"source":"scripts/viz3/preprocess3.js","original":{"line":40,"column":23},"generated":{"line":1,"column":296}},{"source":"scripts/viz3/preprocess3.js","original":{"line":40,"column":43},"generated":{"line":1,"column":297}},{"source":"scripts/viz3/preprocess3.js","original":{"line":40,"column":43},"generated":{"line":1,"column":314}},{"source":"scripts/viz3/preprocess3.js","name":"Qualifié","original":{"line":40,"column":51},"generated":{"line":1,"column":321}},{"source":"scripts/viz3/preprocess3.js","original":{"line":40,"column":61},"generated":{"line":1,"column":332}},{"source":"scripts/viz3/preprocess3.js","original":{"line":40,"column":88},"generated":{"line":1,"column":340}},{"source":"scripts/viz3/preprocess3.js","original":{"line":40,"column":88},"generated":{"line":1,"column":357}},{"source":"scripts/viz3/preprocess3.js","name":"newData","original":{"line":56,"column":9},"generated":{"line":1,"column":366}},{"source":"scripts/viz3/preprocess3.js","name":"skills","original":{"line":42,"column":2},"generated":{"line":1,"column":373}},{"source":"scripts/viz3/preprocess3.js","name":"forEach","original":{"line":42,"column":9},"generated":{"line":1,"column":375}},{"source":"scripts/viz3/preprocess3.js","original":{"line":42,"column":17},"generated":{"line":1,"column":383}},{"source":"scripts/viz3/preprocess3.js","name":"skill","original":{"line":42,"column":17},"generated":{"line":1,"column":392}},{"source":"scripts/viz3/preprocess3.js","name":"dataWithThisSkill","original":{"line":43,"column":8},"generated":{"line":1,"column":395}},{"source":"scripts/viz3/preprocess3.js","name":"dataWithThisSkill","original":{"line":43,"column":8},"generated":{"line":1,"column":399}},{"source":"scripts/viz3/preprocess3.js","name":"data","original":{"line":43,"column":28},"generated":{"line":1,"column":401}},{"source":"scripts/viz3/preprocess3.js","name":"filter","original":{"line":43,"column":33},"generated":{"line":1,"column":403}},{"source":"scripts/viz3/preprocess3.js","original":{"line":43,"column":40},"generated":{"line":1,"column":410}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":43,"column":40},"generated":{"line":1,"column":419}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":43,"column":51},"generated":{"line":1,"column":422}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":43,"column":51},"generated":{"line":1,"column":429}},{"source":"scripts/viz3/preprocess3.js","name":"Genre_de_competences","original":{"line":43,"column":59},"generated":{"line":1,"column":431}},{"source":"scripts/viz3/preprocess3.js","name":"trim","original":{"line":43,"column":80},"generated":{"line":1,"column":452}},{"source":"scripts/viz3/preprocess3.js","name":"skill","original":{"line":43,"column":91},"generated":{"line":1,"column":461}},{"source":"scripts/viz3/preprocess3.js","name":"pourcentages","original":{"line":44,"column":8},"generated":{"line":1,"column":465}},{"source":"scripts/viz3/preprocess3.js","name":"calculatePercentage","original":{"line":44,"column":23},"generated":{"line":1,"column":467}},{"source":"scripts/viz3/preprocess3.js","name":"dataWithThisSkill","original":{"line":44,"column":43},"generated":{"line":1,"column":469}},{"source":"scripts/viz3/preprocess3.js","name":"total","original":{"line":45,"column":8},"generated":{"line":1,"column":472}},{"source":"scripts/viz3/preprocess3.js","name":"pourcentages","original":{"line":45,"column":16},"generated":{"line":1,"column":474}},{"source":"scripts/viz3/preprocess3.js","original":{"line":45,"column":29},"generated":{"line":1,"column":476}},{"source":"scripts/viz3/preprocess3.js","name":"pourcentages","original":{"line":45,"column":49},"generated":{"line":1,"column":494}},{"source":"scripts/viz3/preprocess3.js","name":"Qualifié","original":{"line":45,"column":62},"generated":{"line":1,"column":496}},{"source":"scripts/viz3/preprocess3.js","name":"pourcentages","original":{"line":45,"column":73},"generated":{"line":1,"column":505}},{"source":"scripts/viz3/preprocess3.js","original":{"line":45,"column":86},"generated":{"line":1,"column":507}},{"source":"scripts/viz3/preprocess3.js","name":"skillLevels","original":{"line":46,"column":4},"generated":{"line":1,"column":525}},{"source":"scripts/viz3/preprocess3.js","name":"forEach","original":{"line":46,"column":16},"generated":{"line":1,"column":527}},{"source":"scripts/viz3/preprocess3.js","original":{"line":46,"column":24},"generated":{"line":1,"column":535}},{"source":"scripts/viz3/preprocess3.js","name":"skillLevel","original":{"line":46,"column":24},"generated":{"line":1,"column":544}},{"source":"scripts/viz3/preprocess3.js","name":"skillElement","original":{"line":47,"column":10},"generated":{"line":1,"column":547}},{"source":"scripts/viz3/preprocess3.js","name":"skillElement","original":{"line":47,"column":10},"generated":{"line":1,"column":551}},{"source":"scripts/viz3/preprocess3.js","original":{"line":47,"column":25},"generated":{"line":1,"column":553}},{"source":"scripts/viz3/preprocess3.js","name":"skill","original":{"line":47,"column":51},"generated":{"line":1,"column":554}},{"source":"scripts/viz3/preprocess3.js","name":"skill","original":{"line":47,"column":51},"generated":{"line":1,"column":577}},{"source":"scripts/viz3/preprocess3.js","name":"dataWithThisSkillLevel","original":{"line":48,"column":10},"generated":{"line":1,"column":580}},{"source":"scripts/viz3/preprocess3.js","name":"dataWithThisSkill","original":{"line":48,"column":35},"generated":{"line":1,"column":582}},{"source":"scripts/viz3/preprocess3.js","name":"filter","original":{"line":48,"column":53},"generated":{"line":1,"column":584}},{"source":"scripts/viz3/preprocess3.js","original":{"line":48,"column":60},"generated":{"line":1,"column":591}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":48,"column":60},"generated":{"line":1,"column":600}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":48,"column":71},"generated":{"line":1,"column":603}},{"source":"scripts/viz3/preprocess3.js","original":{"line":48,"column":142},"generated":{"line":1,"column":610}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":48,"column":71},"generated":{"line":1,"column":614}},{"source":"scripts/viz3/preprocess3.js","name":"Niveau_de_competences","original":{"line":48,"column":79},"generated":{"line":1,"column":616}},{"source":"scripts/viz3/preprocess3.js","name":"indexOf","original":{"line":48,"column":101},"generated":{"line":1,"column":638}},{"source":"scripts/viz3/preprocess3.js","name":"skillDetection","original":{"line":48,"column":109},"generated":{"line":1,"column":646}},{"source":"scripts/viz3/preprocess3.js","name":"skillLevel","original":{"line":48,"column":124},"generated":{"line":1,"column":648}},{"source":"scripts/viz3/preprocess3.js","name":"skillElement","original":{"line":49,"column":6},"generated":{"line":1,"column":654}},{"source":"scripts/viz3/preprocess3.js","name":"déficit","original":{"line":49,"column":19},"generated":{"line":1,"column":656}},{"source":"scripts/viz3/preprocess3.js","name":"calculateDeficit","original":{"line":49,"column":29},"generated":{"line":1,"column":664}},{"source":"scripts/viz3/preprocess3.js","name":"dataWithThisSkillLevel","original":{"line":49,"column":46},"generated":{"line":1,"column":666}},{"source":"scripts/viz3/preprocess3.js","name":"skillElement","original":{"line":50,"column":6},"generated":{"line":1,"column":669}},{"source":"scripts/viz3/preprocess3.js","name":"pourcentage","original":{"line":50,"column":19},"generated":{"line":1,"column":671}},{"source":"scripts/viz3/preprocess3.js","name":"pourcentages","original":{"line":50,"column":33},"generated":{"line":1,"column":683}},{"source":"scripts/viz3/preprocess3.js","name":"skillLevel","original":{"line":50,"column":46},"generated":{"line":1,"column":685}},{"source":"scripts/viz3/preprocess3.js","name":"total","original":{"line":50,"column":60},"generated":{"line":1,"column":688}},{"source":"scripts/viz3/preprocess3.js","name":"skillElement","original":{"line":51,"column":6},"generated":{"line":1,"column":690}},{"source":"scripts/viz3/preprocess3.js","name":"emploi_estimé","original":{"line":51,"column":19},"generated":{"line":1,"column":692}},{"source":"scripts/viz3/preprocess3.js","name":"pourcentages","original":{"line":51,"column":35},"generated":{"line":1,"column":706}},{"source":"scripts/viz3/preprocess3.js","name":"skillLevel","original":{"line":51,"column":48},"generated":{"line":1,"column":708}},{"source":"scripts/viz3/preprocess3.js","name":"skillElement","original":{"line":52,"column":6},"generated":{"line":1,"column":711}},{"source":"scripts/viz3/preprocess3.js","name":"niveau_de_competences","original":{"line":52,"column":19},"generated":{"line":1,"column":713}},{"source":"scripts/viz3/preprocess3.js","name":"skillLevel","original":{"line":52,"column":43},"generated":{"line":1,"column":735}},{"source":"scripts/viz3/preprocess3.js","name":"newData","original":{"line":53,"column":6},"generated":{"line":1,"column":737}},{"source":"scripts/viz3/preprocess3.js","name":"push","original":{"line":53,"column":14},"generated":{"line":1,"column":739}},{"source":"scripts/viz3/preprocess3.js","name":"skillElement","original":{"line":53,"column":19},"generated":{"line":1,"column":744}},{"source":"scripts/viz3/preprocess3.js","name":"newData","original":{"line":56,"column":9},"generated":{"line":1,"column":751}},{"source":"scripts/viz3/preprocess3.js","original":{"line":65,"column":7},"generated":{"line":1,"column":753}},{"source":"scripts/viz3/preprocess3.js","name":"calculatePercentage","original":{"line":65,"column":16},"generated":{"line":1,"column":762}},{"source":"scripts/viz3/preprocess3.js","name":"dataWithOneSkill","original":{"line":65,"column":37},"generated":{"line":1,"column":764}},{"source":"scripts/viz3/preprocess3.js","name":"percentages","original":{"line":66,"column":6},"generated":{"line":1,"column":767}},{"source":"scripts/viz3/preprocess3.js","name":"percentages","original":{"line":66,"column":6},"generated":{"line":1,"column":771}},{"source":"scripts/viz3/preprocess3.js","original":{"line":66,"column":20},"generated":{"line":1,"column":773}},{"source":"scripts/viz3/preprocess3.js","original":{"line":66,"column":40},"generated":{"line":1,"column":774}},{"source":"scripts/viz3/preprocess3.js","original":{"line":66,"column":40},"generated":{"line":1,"column":791}},{"source":"scripts/viz3/preprocess3.js","name":"Qualifié","original":{"line":66,"column":43},"generated":{"line":1,"column":793}},{"source":"scripts/viz3/preprocess3.js","original":{"line":66,"column":53},"generated":{"line":1,"column":804}},{"source":"scripts/viz3/preprocess3.js","original":{"line":66,"column":74},"generated":{"line":1,"column":806}},{"source":"scripts/viz3/preprocess3.js","original":{"line":66,"column":74},"generated":{"line":1,"column":823}},{"source":"scripts/viz3/preprocess3.js","name":"percentages","original":{"line":79,"column":9},"generated":{"line":1,"column":826}},{"source":"scripts/viz3/preprocess3.js","name":"dataWithOneSkill","original":{"line":67,"column":2},"generated":{"line":1,"column":833}},{"source":"scripts/viz3/preprocess3.js","name":"forEach","original":{"line":67,"column":19},"generated":{"line":1,"column":835}},{"source":"scripts/viz3/preprocess3.js","original":{"line":67,"column":27},"generated":{"line":1,"column":843}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":67,"column":27},"generated":{"line":1,"column":852}},{"source":"scripts/viz3/preprocess3.js","original":{"line":68,"column":59},"generated":{"line":1,"column":856}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":68,"column":8},"generated":{"line":1,"column":860}},{"source":"scripts/viz3/preprocess3.js","name":"Niveau_de_competences","original":{"line":68,"column":16},"generated":{"line":1,"column":862}},{"source":"scripts/viz3/preprocess3.js","name":"indexOf","original":{"line":68,"column":38},"generated":{"line":1,"column":884}},{"source":"scripts/viz3/preprocess3.js","original":{"line":68,"column":46},"generated":{"line":1,"column":892}},{"source":"scripts/viz3/preprocess3.js","name":"percentages","original":{"line":69,"column":6},"generated":{"line":1,"column":902}},{"source":"scripts/viz3/preprocess3.js","original":{"line":69,"column":18},"generated":{"line":1,"column":904}},{"source":"scripts/viz3/preprocess3.js","name":"parseInt","original":{"line":69,"column":39},"generated":{"line":1,"column":923}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":69,"column":48},"generated":{"line":1,"column":932}},{"source":"scripts/viz3/preprocess3.js","name":"emploi_estime","original":{"line":69,"column":56},"generated":{"line":1,"column":934}},{"source":"scripts/viz3/preprocess3.js","original":{"line":71,"column":60},"generated":{"line":1,"column":951}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":71,"column":8},"generated":{"line":1,"column":955}},{"source":"scripts/viz3/preprocess3.js","name":"Niveau_de_competences","original":{"line":71,"column":16},"generated":{"line":1,"column":957}},{"source":"scripts/viz3/preprocess3.js","name":"indexOf","original":{"line":71,"column":38},"generated":{"line":1,"column":979}},{"source":"scripts/viz3/preprocess3.js","original":{"line":71,"column":46},"generated":{"line":1,"column":987}},{"source":"scripts/viz3/preprocess3.js","name":"percentages","original":{"line":72,"column":6},"generated":{"line":1,"column":998}},{"source":"scripts/viz3/preprocess3.js","name":"Qualifié","original":{"line":72,"column":18},"generated":{"line":1,"column":1000}},{"source":"scripts/viz3/preprocess3.js","name":"parseInt","original":{"line":72,"column":30},"generated":{"line":1,"column":1010}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":72,"column":39},"generated":{"line":1,"column":1019}},{"source":"scripts/viz3/preprocess3.js","name":"emploi_estime","original":{"line":72,"column":47},"generated":{"line":1,"column":1021}},{"source":"scripts/viz3/preprocess3.js","original":{"line":74,"column":60},"generated":{"line":1,"column":1038}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":74,"column":8},"generated":{"line":1,"column":1042}},{"source":"scripts/viz3/preprocess3.js","name":"Niveau_de_competences","original":{"line":74,"column":16},"generated":{"line":1,"column":1044}},{"source":"scripts/viz3/preprocess3.js","name":"indexOf","original":{"line":74,"column":38},"generated":{"line":1,"column":1066}},{"source":"scripts/viz3/preprocess3.js","original":{"line":74,"column":46},"generated":{"line":1,"column":1074}},{"source":"scripts/viz3/preprocess3.js","name":"percentages","original":{"line":75,"column":6},"generated":{"line":1,"column":1085}},{"source":"scripts/viz3/preprocess3.js","original":{"line":75,"column":18},"generated":{"line":1,"column":1087}},{"source":"scripts/viz3/preprocess3.js","name":"parseInt","original":{"line":75,"column":39},"generated":{"line":1,"column":1106}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":75,"column":48},"generated":{"line":1,"column":1115}},{"source":"scripts/viz3/preprocess3.js","name":"emploi_estime","original":{"line":75,"column":56},"generated":{"line":1,"column":1117}},{"source":"scripts/viz3/preprocess3.js","name":"percentages","original":{"line":79,"column":9},"generated":{"line":1,"column":1135}},{"source":"scripts/viz3/preprocess3.js","original":{"line":88,"column":7},"generated":{"line":1,"column":1137}},{"source":"scripts/viz3/preprocess3.js","name":"calculateDeficit","original":{"line":88,"column":16},"generated":{"line":1,"column":1146}},{"source":"scripts/viz3/preprocess3.js","name":"dataWithOneSkill","original":{"line":88,"column":34},"generated":{"line":1,"column":1148}},{"source":"scripts/viz3/preprocess3.js","name":"dataWithOneSkill","original":{"line":89,"column":6},"generated":{"line":1,"column":1151}},{"source":"scripts/viz3/preprocess3.js","original":{"line":89,"column":34},"generated":{"line":1,"column":1154}},{"source":"scripts/viz3/preprocess3.js","name":"dataWithOneSkill","original":{"line":89,"column":6},"generated":{"line":1,"column":1158}},{"source":"scripts/viz3/preprocess3.js","name":"length","original":{"line":89,"column":23},"generated":{"line":1,"column":1160}},{"source":"scripts/viz3/preprocess3.js","original":{"line":89,"column":46},"generated":{"line":1,"column":1167}},{"source":"scripts/viz3/preprocess3.js","original":{"line":89,"column":46},"generated":{"line":1,"column":1173}},{"source":"scripts/viz3/preprocess3.js","name":"deficit","original":{"line":90,"column":6},"generated":{"line":1,"column":1185}},{"source":"scripts/viz3/preprocess3.js","name":"deficit","original":{"line":90,"column":6},"generated":{"line":1,"column":1189}},{"source":"scripts/viz3/preprocess3.js","original":{"line":90,"column":16},"generated":{"line":1,"column":1191}},{"source":"scripts/viz3/preprocess3.js","name":"countNonPublished","original":{"line":91,"column":6},"generated":{"line":1,"column":1193}},{"source":"scripts/viz3/preprocess3.js","original":{"line":91,"column":26},"generated":{"line":1,"column":1195}},{"source":"scripts/viz3/preprocess3.js","name":"deficitScore","original":{"line":100,"column":9},"generated":{"line":1,"column":1197}},{"source":"scripts/viz3/preprocess3.js","name":"dataWithOneSkill","original":{"line":92,"column":2},"generated":{"line":1,"column":1204}},{"source":"scripts/viz3/preprocess3.js","name":"forEach","original":{"line":92,"column":19},"generated":{"line":1,"column":1206}},{"source":"scripts/viz3/preprocess3.js","original":{"line":92,"column":27},"generated":{"line":1,"column":1214}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":92,"column":27},"generated":{"line":1,"column":1223}},{"source":"scripts/viz3/preprocess3.js","original":{"line":93,"column":52},"generated":{"line":1,"column":1227}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":93,"column":8},"generated":{"line":1,"column":1231}},{"source":"scripts/viz3/preprocess3.js","name":"Perspectives","original":{"line":93,"column":16},"generated":{"line":1,"column":1233}},{"source":"scripts/viz3/preprocess3.js","name":"indexOf","original":{"line":93,"column":29},"generated":{"line":1,"column":1246}},{"source":"scripts/viz3/preprocess3.js","original":{"line":93,"column":37},"generated":{"line":1,"column":1254}},{"source":"scripts/viz3/preprocess3.js","name":"deficit","original":{"line":93,"column":57},"generated":{"line":1,"column":1266}},{"source":"scripts/viz3/preprocess3.js","original":{"line":93,"column":68},"generated":{"line":1,"column":1269}},{"source":"scripts/viz3/preprocess3.js","original":{"line":94,"column":51},"generated":{"line":1,"column":1273}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":94,"column":8},"generated":{"line":1,"column":1277}},{"source":"scripts/viz3/preprocess3.js","name":"Perspectives","original":{"line":94,"column":16},"generated":{"line":1,"column":1279}},{"source":"scripts/viz3/preprocess3.js","name":"indexOf","original":{"line":94,"column":29},"generated":{"line":1,"column":1292}},{"source":"scripts/viz3/preprocess3.js","original":{"line":94,"column":37},"generated":{"line":1,"column":1300}},{"source":"scripts/viz3/preprocess3.js","name":"deficit","original":{"line":94,"column":56},"generated":{"line":1,"column":1311}},{"source":"scripts/viz3/preprocess3.js","original":{"line":94,"column":67},"generated":{"line":1,"column":1314}},{"source":"scripts/viz3/preprocess3.js","original":{"line":95,"column":33},"generated":{"line":1,"column":1317}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":95,"column":8},"generated":{"line":1,"column":1329}},{"source":"scripts/viz3/preprocess3.js","name":"Perspectives","original":{"line":95,"column":16},"generated":{"line":1,"column":1331}},{"source":"scripts/viz3/preprocess3.js","name":"deficit","original":{"line":95,"column":46},"generated":{"line":1,"column":1346}},{"source":"scripts/viz3/preprocess3.js","original":{"line":95,"column":57},"generated":{"line":1,"column":1349}},{"source":"scripts/viz3/preprocess3.js","original":{"line":96,"column":33},"generated":{"line":1,"column":1352}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":96,"column":8},"generated":{"line":1,"column":1374}},{"source":"scripts/viz3/preprocess3.js","name":"Perspectives","original":{"line":96,"column":16},"generated":{"line":1,"column":1376}},{"source":"scripts/viz3/preprocess3.js","name":"deficit","original":{"line":96,"column":56},"generated":{"line":1,"column":1391}},{"source":"scripts/viz3/preprocess3.js","original":{"line":96,"column":67},"generated":{"line":1,"column":1394}},{"source":"scripts/viz3/preprocess3.js","original":{"line":97,"column":49},"generated":{"line":1,"column":1398}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":97,"column":8},"generated":{"line":1,"column":1402}},{"source":"scripts/viz3/preprocess3.js","name":"Perspectives","original":{"line":97,"column":16},"generated":{"line":1,"column":1404}},{"source":"scripts/viz3/preprocess3.js","name":"indexOf","original":{"line":97,"column":29},"generated":{"line":1,"column":1417}},{"source":"scripts/viz3/preprocess3.js","original":{"line":97,"column":37},"generated":{"line":1,"column":1425}},{"source":"scripts/viz3/preprocess3.js","name":"countNonPublished","original":{"line":97,"column":54},"generated":{"line":1,"column":1434}},{"source":"scripts/viz3/preprocess3.js","original":{"line":97,"column":75},"generated":{"line":1,"column":1437}},{"source":"scripts/viz3/preprocess3.js","name":"deficitScore","original":{"line":100,"column":9},"generated":{"line":1,"column":1442}},{"source":"scripts/viz3/preprocess3.js","name":"deficit","original":{"line":99,"column":2},"generated":{"line":1,"column":1444}},{"source":"scripts/viz3/preprocess3.js","name":"dataWithOneSkill","original":{"line":99,"column":23},"generated":{"line":1,"column":1447}},{"source":"scripts/viz3/preprocess3.js","name":"length","original":{"line":99,"column":40},"generated":{"line":1,"column":1449}},{"source":"scripts/viz3/preprocess3.js","name":"countNonPublished","original":{"line":99,"column":49},"generated":{"line":1,"column":1456}},{"source":"scripts/viz3/preprocess3.js","original":{"line":109,"column":7},"generated":{"line":1,"column":1459}},{"source":"scripts/viz3/preprocess3.js","name":"deficitScore","original":{"line":109,"column":16},"generated":{"line":1,"column":1468}},{"source":"scripts/viz3/preprocess3.js","name":"score","original":{"line":109,"column":30},"generated":{"line":1,"column":1470}},{"source":"scripts/viz3/preprocess3.js","name":"score","original":{"line":110,"column":6},"generated":{"line":1,"column":1473}},{"source":"scripts/viz3/preprocess3.js","name":"score","original":{"line":110,"column":6},"generated":{"line":1,"column":1480}},{"source":"scripts/viz3/preprocess3.js","original":{"line":110,"column":15},"generated":{"line":1,"column":1483}},{"source":"scripts/viz3/preprocess3.js","original":{"line":110,"column":30},"generated":{"line":1,"column":1488}},{"source":"scripts/viz3/preprocess3.js","name":"score","original":{"line":111,"column":6},"generated":{"line":1,"column":1498}},{"source":"scripts/viz3/preprocess3.js","original":{"line":111,"column":15},"generated":{"line":1,"column":1501}},{"source":"scripts/viz3/preprocess3.js","original":{"line":111,"column":30},"generated":{"line":1,"column":1504}},{"source":"scripts/viz3/preprocess3.js","name":"score","original":{"line":112,"column":6},"generated":{"line":1,"column":1520}},{"source":"scripts/viz3/preprocess3.js","original":{"line":112,"column":14},"generated":{"line":1,"column":1522}},{"source":"scripts/viz3/preprocess3.js","original":{"line":112,"column":29},"generated":{"line":1,"column":1525}},{"source":"scripts/viz3/preprocess3.js","original":{"line":113,"column":9},"generated":{"line":1,"column":1537}},{"source":"scripts/viz3/preprocess3.js","original":{"line":123,"column":7},"generated":{"line":1,"column":1553}},{"source":"scripts/viz3/preprocess3.js","name":"getCorrespondingPercentage","original":{"line":123,"column":16},"generated":{"line":1,"column":1562}},{"source":"scripts/viz3/preprocess3.js","name":"skills","original":{"line":123,"column":44},"generated":{"line":1,"column":1564}},{"source":"scripts/viz3/preprocess3.js","name":"data","original":{"line":123,"column":52},"generated":{"line":1,"column":1566}},{"source":"scripts/viz3/preprocess3.js","name":"output","original":{"line":124,"column":6},"generated":{"line":1,"column":1569}},{"source":"scripts/viz3/preprocess3.js","name":"output","original":{"line":124,"column":6},"generated":{"line":1,"column":1573}},{"source":"scripts/viz3/preprocess3.js","original":{"line":124,"column":15},"generated":{"line":1,"column":1575}},{"source":"scripts/viz3/preprocess3.js","name":"output","original":{"line":133,"column":9},"generated":{"line":1,"column":1578}},{"source":"scripts/viz3/preprocess3.js","name":"skills","original":{"line":125,"column":2},"generated":{"line":1,"column":1585}},{"source":"scripts/viz3/preprocess3.js","name":"forEach","original":{"line":125,"column":9},"generated":{"line":1,"column":1587}},{"source":"scripts/viz3/preprocess3.js","original":{"line":125,"column":17},"generated":{"line":1,"column":1595}},{"source":"scripts/viz3/preprocess3.js","name":"skill","original":{"line":125,"column":17},"generated":{"line":1,"column":1604}},{"source":"scripts/viz3/preprocess3.js","name":"data","original":{"line":126,"column":4},"generated":{"line":1,"column":1607}},{"source":"scripts/viz3/preprocess3.js","name":"forEach","original":{"line":126,"column":9},"generated":{"line":1,"column":1609}},{"source":"scripts/viz3/preprocess3.js","original":{"line":126,"column":17},"generated":{"line":1,"column":1617}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":126,"column":17},"generated":{"line":1,"column":1626}},{"source":"scripts/viz3/preprocess3.js","name":"console","original":{"line":127,"column":6},"generated":{"line":1,"column":1629}},{"source":"scripts/viz3/preprocess3.js","name":"log","original":{"line":127,"column":14},"generated":{"line":1,"column":1637}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":127,"column":18},"generated":{"line":1,"column":1641}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":128,"column":10},"generated":{"line":1,"column":1644}},{"source":"scripts/viz3/preprocess3.js","original":{"line":128,"column":18},"generated":{"line":1,"column":1646}},{"source":"scripts/viz3/preprocess3.js","name":"skill","original":{"line":128,"column":46},"generated":{"line":1,"column":1672}},{"source":"scripts/viz3/preprocess3.js","name":"output","original":{"line":129,"column":8},"generated":{"line":1,"column":1676}},{"source":"scripts/viz3/preprocess3.js","name":"skill","original":{"line":129,"column":15},"generated":{"line":1,"column":1678}},{"source":"scripts/viz3/preprocess3.js","name":"element","original":{"line":129,"column":24},"generated":{"line":1,"column":1681}},{"source":"scripts/viz3/preprocess3.js","name":"pourcentage","original":{"line":129,"column":32},"generated":{"line":1,"column":1683}},{"source":"scripts/viz3/preprocess3.js","name":"output","original":{"line":133,"column":9},"generated":{"line":1,"column":1700}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1702}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1709}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1724}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1732}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1745}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1746}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1753}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1757}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1765}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1778}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1780}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1788}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1798}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1800}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1808}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1822}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1824}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1832}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1852}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1854}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1862}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1879}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1881}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1889}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1902}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1904}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1912}},{"source":"scripts/viz3/preprocess3.js","original":{"line":134,"column":1},"generated":{"line":1,"column":1939}}],"sources":{"scripts/viz3/preprocess3.js":"/**\r\n * Removes all data that do not concern the whole of Quebec\r\n *\r\n * @param {Array} data the data to filter\r\n * @returns {Array} the data filtered\r\n */\r\nexport function filterRegion (data) {\r\n  data = data.filter(element => element.Nom_Region.indexOf('Ensemble') !== -1)\r\n  return data\r\n}\r\n\r\n/**\r\n * Gets the list of the differents skills\r\n *\r\n * @param {Array} data the data\r\n * @returns {Array} The array containing the names of the skills\r\n */\r\nexport function getSkills (data) {\r\n  const skills = []\r\n  data.forEach((element) => {\r\n    const nbName = element.Genre_de_competences.trim()\r\n    const nbCheck = skills.includes(nbName)\r\n    if (!nbCheck) {\r\n      skills.push(nbName)\r\n    }\r\n  })\r\n  return skills\r\n}\r\n\r\n/**\r\n * Structure the data format\r\n *\r\n * @param {Array} data The data\r\n * @param {Array} skills List of the skills\r\n * @returns {Array} The data formated\r\n */\r\nexport function structureData (data, skills) {\r\n  var newData = []\r\n  var skillLevels = ['Haut. Qualifié', 'Qualifié', 'Moins Qualifié']\r\n  var skillDetection = { 'Haut. Qualifié': 'Haut', Qualifié: '(Qual', 'Moins Qualifié': 'Moins' }\r\n\r\n  skills.forEach(skill => {\r\n    var dataWithThisSkill = data.filter(element => element.Genre_de_competences.trim() === skill)\r\n    var pourcentages = calculatePercentage(dataWithThisSkill)\r\n    var total = pourcentages['Haut. Qualifié'] + pourcentages.Qualifié + pourcentages['Moins Qualifié']\r\n    skillLevels.forEach(skillLevel => {\r\n      var skillElement = { 'Genre de compétences': skill }\r\n      var dataWithThisSkillLevel = dataWithThisSkill.filter(element => element.Niveau_de_competences.indexOf(skillDetection[skillLevel]) !== -1)\r\n      skillElement.déficit = calculateDeficit(dataWithThisSkillLevel)\r\n      skillElement.pourcentage = pourcentages[skillLevel] / total\r\n      skillElement.emploi_estimé = pourcentages[skillLevel]\r\n      skillElement.niveau_de_competences = skillLevel\r\n      newData.push(skillElement)\r\n    })\r\n  })\r\n  return newData\r\n}\r\n\r\n/**\r\n * Calculate the percentage for each skill level\r\n *\r\n * @param {Array} dataWithOneSkill the data to structure\r\n * @returns {*} an object with the percentage for each skill level\r\n */\r\nexport function calculatePercentage (dataWithOneSkill) {\r\n  var percentages = { 'Haut. Qualifié': 0, Qualifié: 0, 'Moins Qualifié': 0 }\r\n  dataWithOneSkill.forEach(element => {\r\n    if (element.Niveau_de_competences.indexOf('Haut') !== -1) {\r\n      percentages['Haut. Qualifié'] += parseInt(element.emploi_estime)\r\n    }\r\n    if (element.Niveau_de_competences.indexOf('(Qual') !== -1) {\r\n      percentages.Qualifié += parseInt(element.emploi_estime)\r\n    }\r\n    if (element.Niveau_de_competences.indexOf('Moins') !== -1) {\r\n      percentages['Moins Qualifié'] += parseInt(element.emploi_estime)\r\n    }\r\n  })\r\n\r\n  return percentages\r\n}\r\n\r\n/**\r\n * Calculate the deficit for a skill\r\n *\r\n * @param {Array} dataWithOneSkill the data to structure\r\n * @returns {string} the term that best defines the deficit\r\n */\r\nexport function calculateDeficit (dataWithOneSkill) {\r\n  if (dataWithOneSkill.length === 0) { return 'Equilibre' }\r\n  var deficit = 0\r\n  var countNonPublished = 0\r\n  dataWithOneSkill.forEach(element => {\r\n    if (element.Perspectives.indexOf('urplus') !== -1) { deficit += 1 }\r\n    if (element.Perspectives.indexOf('ger D') !== -1) { deficit -= 1 }\r\n    if (element.Perspectives === 'Deficit') { deficit -= 2 }\r\n    if (element.Perspectives === 'Deficit important') { deficit -= 3 }\r\n    if (element.Perspectives.indexOf('Non') !== -1) { countNonPublished += 1 }\r\n  })\r\n  deficit = deficit / (dataWithOneSkill.length - countNonPublished)\r\n  return deficitScore(deficit)\r\n}\r\n\r\n/**\r\n * Give the deficit for a score\r\n *\r\n * @param {number} score the score\r\n * @returns {string} deficit\r\n */\r\nexport function deficitScore (score) {\r\n  if (score < -1.25) { return 'Déficit' }\r\n  if (score < -0.50) { return 'Léger Déficit' }\r\n  if (score < 0.40) { return 'Equilibre' }\r\n  return 'Léger Surplus'\r\n}\r\n\r\n/**\r\n * Give the percentage for the same skill level for the other year and for a given skill level\r\n *\r\n * @param {Array} skills the different skills\r\n * @param {Array} data the data from 2021\r\n * @returns {*} an object containing every percentage\r\n */\r\nexport function getCorrespondingPercentage (skills, data) {\r\n  var output = {}\r\n  skills.forEach(skill => {\r\n    data.forEach(element => {\r\n      console.log(element)\r\n      if (element['Genre de compétences'] === skill) {\r\n        output[skill] = element.pourcentage\r\n      }\r\n    })\r\n  })\r\n  return output\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"4cc2ae4a46d430d8cedce74ad3689d07","cacheData":{"env":{}}}